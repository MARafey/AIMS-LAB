<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Research</title>
    <link rel="icon" href="Images/web.png" type="image/icon type" />
    <link href="Research.css" rel="stylesheet" type="text/css" />
    <link href="Team.css" rel="stylesheet" type="text/css" />
    <link href="https://fonts.googleapis.com" rel="preconnect" />
    <style>
      .preview-image {
        max-width: 200px;
        max-height: 200px;
        margin: 10px;
        display: inline-block;
      }

      .submitted-image {
        max-width: 100px;
        max-height: 100px;
        margin: 5px;
        display: inline-block;
      }

      .upload-section {
        text-align: center;
      }

      /* New CSS for the button */

      .upload-button {
        background-color: #4caf50;
        color: white;
        padding: 10px 20px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        border-radius: 4px;
        margin-top: 10px;
      }

      .upload-button:hover {
        background-color: #45a049;
      }
    </style>
  </head>
  <body class="body-2">
    <div
      data-collapse="medium"
      data-animation="default"
      data-duration="400"
      data-easing="ease"
      data-easing2="ease"
      role="banner"
      class="navigation w-nav"
    >
      <div class="navigation-wrap">
        <a
          href="./Main.html"
          aria-current="page"
          class="logo-link w-nav-brand w--current"
          ><img
            src="Images/Logo.png"
            width="108"
            sizes="108.00000762939453px"
            srcset="Images/Logo.png 500w, Images/Logo.png 722w"
            alt=""
            class="logo-image"
        /></a>
        <div class="menu">
          <nav role="navigation" class="navigation-items w-nav-menu">
            <a href="./About.html" class="navigation-item w-nav-link">About</a
            ><a href="./Research.html" class="navigation-item w-nav-link"
              >Research</a
            ><a href="./Team.html" class="navigation-item w-nav-link">Team</a
            ><a href="./Upload.html" class="navigation-item w-nav-link"
              >Upload</a
            >
          </nav>
          <div class="menu-button w-nav-button">
            <img
              src="Images/D2520EFE-4047-427E-9835-04FAFAA8BC00.jpg"
              width="22"
              alt=""
              class="menu-icon"
            />
          </div>
        </div>
      </div>
      <a
        href="https://pk.linkedin.com/company/aim-lab"
        target="_blank"
        class="button cc-contact-us w-inline-block"
        ><div>Contact us</div></a
      >
    </div>

    <div class="section cc-home-wrap">
      <div class="intro-header cc-subpage">
        <div class="intro-content">
          <div class="heading-jumbo"><i>Our work</i><br /></div>
        </div>
      </div>
    </div>

    <div class="section">
      <div class="container">
        <div class="section-heading-wrap">
          <div class="label cc-light">The model</div>
          <h2>IMAGE DEFOGGER</h2>
        </div>
      </div>
    </div>

    <!-- Add image upload section -->
    <div class="upload-section" style="text-align: center">
      <h3>Upload Images</h3>
      <input
        type="file"
        id="image-upload"
        accept="image/*"
        multiple
        onchange="handleFileSelect(event)"
      />
      <div id="preview-container"></div>
      <button class="upload-button" onclick="submitImages()">Submit</button>
    </div>

    <script
      src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=64a473e97938a149502f98dc"
      type="text/javascript"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
      crossorigin="anonymous"
    ></script>
    <script src="Team.js" type="text/javascript"></script>

    <script>
      // Function to handle file selection
      function handleFileSelect(event) {
        var files = event.target.files; // Get the selected files

        // Get the existing preview container
        var previewContainer = document.getElementById("preview-container");

        // Check the number of selected files
        if (files.length > 10) {
          alert("You can only upload up to 10 images.");
          return;
        }

        // Iterate over the selected files
        for (var i = 0; i < files.length; i++) {
          var file = files[i];

          // Create a new image element for each file
          var img = document.createElement("img");
          img.src = URL.createObjectURL(file);
          img.className = "preview-image";
          previewContainer.appendChild(img);
        }
      }

      // Function to handle image submission
      function submitImages() {
        var images = document.getElementsByClassName("preview-image");

        // Display the submitted images below the upload section
        var submittedImagesContainer = document.createElement("div");
        submittedImagesContainer.className = "submitted-images";

        for (var i = 0; i < images.length; i++) {
          var submittedImg = document.createElement("img");
          submittedImg.src = images[i].src;
          submittedImg.className = "submitted-image";
          submittedImagesContainer.appendChild(submittedImg);
        }

        // Get the existing container for submitted images
        var container = document.querySelector(".container:last-of-type");

        // Check if there are already submitted images
        var existingSubmittedImagesContainer =
          container.querySelector(".submitted-images");
        if (existingSubmittedImagesContainer) {
          // Append the new submitted images after the existing ones
          container.insertBefore(
            submittedImagesContainer,
            existingSubmittedImagesContainer.nextSibling
          );
        } else {
          // No existing submitted images, just append the new container
          container.appendChild(submittedImagesContainer);
        }
      }
    </script>
  </body>
</html>
